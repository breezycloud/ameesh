@using ApexCharts
@attribute [Authorize]
@inject IJSRuntime js

@if (IsLoading)
{
    <MudSkeleton Class="rounded-lg" Animation="Animation.Wave" SkeletonType="SkeletonType.Rectangle" Height="450px" />
}
else
{
    <MudDataGrid Items="@Data" Outlined Dense>
        <ToolBarContent>
            <MudText Typo="Typo.h6">@($"{Data.FirstOrDefault()!.Date} Summary By Payment Modes")</MudText>
        </ToolBarContent>
        <Columns>
            <PropertyColumn Property="x => x.Mode" Title="Mode"/>
            <PropertyColumn Property="x => x.Amount" Title="Amount" Format="N2" />
        </Columns>
    </MudDataGrid>
}   

@code {    
    public List<ChartSeries> Series = new List<ChartSeries>();
    private double[] data = { 19, 20, 60 };
    public string[] XAxisLabels = { "Jan", "Feb", "Mar"};
    [Parameter, EditorRequired] public bool IsLoading { get; set; } = false;
    [Parameter, EditorRequired] public SummaryByPaymentMode[] Data { get; set; } = [];

    private ApexChartOptions<SummaryByPaymentMode> options = new ApexChartOptions<SummaryByPaymentMode>
    {
        Theme = new Theme
        {
            Mode = Mode.Light,
            Palette = PaletteType.Palette6
        },
        Xaxis = new XAxis { DecimalsInFloat = 5 },
        @* Legend = new Legend { Position = LegendPosition.Bottom } *@
    };    
}